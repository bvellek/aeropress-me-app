function updateUpvoteCount(a){var b="rec_"+a.recipeID;if(a.recipeVotes){document.getElementById(b).querySelector(".recipe-votes").innerHTML=a.recipeVotes;var c='<div class="success-flash-alert">'+a.successVoteMessage+"</div>";document.getElementById(b).innerHTML+=c}else{var d='<div class="flash-alert">'+a.noVoteMessage+"</div>";document.getElementById(b).innerHTML+=d}}function sendUpvoteToApi(a,b){xhr=new XMLHttpRequest;var c="/api/allrecipes";xhr.open("POST",c,!0),xhr.setRequestHeader("Content-type","application/json"),xhr.onreadystatechange=function(){if(4==xhr.readyState){var a=JSON.parse(xhr.responseText);b(a)}};var d=JSON.stringify({recipeID:a});xhr.send(d)}document.addEventListener("DOMContentLoaded",function(){document.querySelectorAll(".upvote-form").forEach(function(a){a.addEventListener("submit",function(a){a.preventDefault(),this.querySelector("button").disabled=!0,this.querySelector("button").style.display="none";var b=this.querySelector("input").value;sendUpvoteToApi(b,updateUpvoteCount)})})});